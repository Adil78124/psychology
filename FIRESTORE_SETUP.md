# üî• –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firestore - –°–†–û–ß–ù–û!

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞: –ù–æ–≤–æ—Å—Ç–∏ –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** Firestore Rules –±–ª–æ–∫–∏—Ä—É—é—Ç –∑–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ù–∞—Å—Ç—Ä–æ–π –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞

### 1. –û—Ç–∫—Ä–æ–π Firebase Console

–ü–µ—Ä–µ–π–¥–∏: https://console.firebase.google.com/

### 2. –í—ã–±–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç **Psychology-Sezim**

### 3. –ü–µ—Ä–µ–π–¥–∏ –≤ Firestore Database

–°–ª–µ–≤–∞ –≤ –º–µ–Ω—é: **Firestore Database**

### 4. –ü–µ—Ä–µ–π–¥–∏ –≤–æ –≤–∫–ª–∞–¥–∫—É **Rules**

–°–≤–µ—Ä—Ö—É: `Data` | **Rules** | `Indexes` | `Usage`

### 5. –ó–∞–º–µ–Ω–∏ –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞ —ç—Ç–∏:

```javascript
rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    
    // –ö–æ–ª–ª–µ–∫—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π
    match /news/{document} {
      // –í—Å–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏
      allow read: if true;
      
      // –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∞–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å
      allow create, delete: if request.auth != null 
        && request.auth.token.admin == true;
      
      // –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å
      allow update: if request.auth != null 
        && request.auth.token.admin == true;
    }
    
    // –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ - –∑–∞–ø—Ä–µ—â–µ–Ω—ã
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
```

### 6. –ù–∞–∂–º–∏ **Publish** (–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å)

---

## üÜò –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

**–¢–û–õ–¨–ö–û –î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ö–ò!** –û—Ç–∫—Ä–æ–π –¥–æ—Å—Ç—É–ø –≤—Å–µ–º:

```javascript
rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true;
    }
  }
}
```

‚ö†Ô∏è **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!** –≠—Ç–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ—Ä–Ω–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (–∏–∑ —à–∞–≥–∞ 5).

---

## üìù –ß—Ç–æ –¥–µ–ª–∞—é—Ç –ø—Ä–∞–≤–∏–ª–∞:

| –î–µ–π—Å—Ç–≤–∏–µ | –ö—Ç–æ –º–æ–∂–µ—Ç | –ü—Ä–∞–≤–∏–ª–æ |
|----------|-----------|---------|
| –ß–∏—Ç–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ | –í—Å–µ | `allow read: if true` |
| –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ | –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã | `request.auth.token.admin == true` |
| –£–¥–∞–ª—è—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ | –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã | `request.auth.token.admin == true` |

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **–°–æ—Ö—Ä–∞–Ω–∏ –ø—Ä–∞–≤–∏–ª–∞** –≤ Firebase Console
2. **–û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É** –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (F5)
3. **–ü–æ–ø—Ä–æ–±—É–π –¥–æ–±–∞–≤–∏—Ç—å** —Ç–µ—Å—Ç–æ–≤—É—é –Ω–æ–≤–æ—Å—Ç—å
4. **–ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å** (F12) - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫

---

## üêõ –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12):

–ò—â–∏ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞:
- `Missing or insufficient permissions`
- `FirebaseError: 7 PERMISSION_DENIED`

### –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ç—ã –∞–¥–º–∏–Ω:

```bash
cd C:\Users\kaira\firebase-admin-tools
node check-admin.js nkqQooMJ6FUWoFoJFx2QsL46ZfD2
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `üîê –°—Ç–∞—Ç—É—Å: ‚úÖ –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†`

### –ü–µ—Ä–µ–∑–∞–π–¥–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:

1. –ù–∞–∂–º–∏ "–í—ã–π—Ç–∏"
2. –í–æ–π–¥–∏ –∑–∞–Ω–æ–≤–æ
3. –ü–æ–ø—Ä–æ–±—É–π –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å

---

## üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:

–í Firebase Console ‚Üí Firestore Database ‚Üí Rules –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /news/{document} {
      allow read: if true;
      allow create, delete: if request.auth != null 
        && request.auth.token.admin == true;
      allow update: if request.auth != null 
        && request.auth.token.admin == true;
    }
  }
}
```

–°—Ç–∞—Ç—É—Å: ‚úÖ **Published**

---

–°–¥–µ–ª–∞–π —ç—Ç–æ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°, –∏ –Ω–æ–≤–æ—Å—Ç–∏ –Ω–∞—á–Ω—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è! üöÄ

